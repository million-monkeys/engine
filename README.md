# Game

# Introduction

# Directory Structure

```
builds/         [1]
docs/           [2]
src/md/         [3]
src/cpp/        [4]
```

## [1] `builds/` directory

This contains the tup config files for each build *variant*.

## [2] `docs/` Directory

This contains the generated static HTML files for the documentation site. This is the best way to *browse* the code and read the technical documetnation.


## [3] `src/md/` directory

This contains all of the source files, in Markdown. This is the literate-programming style code. This is the best way to edit the code and documentation.

## [4] `src/cpp/` directory

This contains all of the source files, in C++. This is stitched code from the literate-programming markdown files. This can be used to edit the code directly, without the documentation, and is useful when working on the code with IDE tools. Entangled will weave it back into the markdown.

# Building

The [Tup](http://gittup.org/tup/) build tool is used to compile the source code. Tup-generated shell (``) script also exists to build the binary without tup. If source files are added or removed, a new shell script must be generated by tup.

The documentation can be regenerated by running `make docs` or regenerated automatically on change, with browser live reload with `make watch-docs`.

The tests can be built by running `make tests`, and auto-run whenever the source changes with `make watch-tests`.

The source files can be automatically built on change by tup with `make tup-monitor`.

Executables can be built using tup with `make target=<target>` where `<target>` is one of: `release`, `tests`, `debug`, `debug-with-asan`

The entangled daemon can be run to automatically generate source files from Markdown or vice versa with `make entangled`

The development setup of running entangled to keep markdown and source files in sync, tup to build the tests, automatically running the tests when they are built, and autoamtically building the documentation with live reload with the `make watch` command. To stop `tup`'s auto rebuild, you can use `tup stop`

# Running

# Dependencies

* C++17 and OpenGL 4.6 (4.1 on OSX)
* [BehaviorTree.CPP](https://github.com/BehaviorTree/BehaviorTree.CPP) - Framework for creating and executing behavior trees (MIT License)
* [cr.h](https://github.com/fungos/cr) - Module live reload library (MIT License)
* [cxxopts](https://github.com/jarro2783/cxxopts) - Lightweight C++ command line option parser (MIT License)
* [doctest](https://github.com/doctest/doctest) - Fast header-only testing framework (MIT License)
* [easy_profiler](https://github.com/yse/easy_profiler) - Function runtime profiling (choice of MIT and Apache v2)
* [EnTT](https://github.com/skypjack/entt) - Entity Component System (MIT License)
* [FastNoiseSIMD](https://github.com/Auburns/FastNoiseSIMD) - Library of various SIMD-optimised noise functions (MIT License, note: Simplex noise is patent-encumbered when used for texture generation)
* [fast_obj](https://github.com/thisistherk/fast_obj) - A Wavefront OBJ loader (MIT License)
* [GLAD](https://github.com/Dav1dde/glad) - OpenGL extension generator (MIT License)
* [GLM](https://glm.g-truc.net/0.9.8/index.html) - OpenGL Mathematics library (The Happy Bunny/Modified MIT License)
* [Immer](https://github.com/arximboldi/immer) - Immutable data structures (Boost Software License 1.0)
* [LuaJIT](https://github.com/LuaJIT/LuaJIT) - Just-In-Time compiler for the Lua programming language. (MIT License)
* [magic_enum](https://github.com/Neargye/magic_enum) - Static reflection for enums (MIT License)
* [mimalloc](https://github.com/microsoft/mimalloc) - mimalloc is a compact general purpose allocator with excellent performance (MIT License)
* [ordered-map](https://github.com/Tessil/ordered-map) - Order-preserving hash map/set (MIT License)
* [parallel-hashmap](https://github.com/greg7mdp/parallel-hashmap) - A collection of fast and memory efficient map, unordered_map, set and unordered_set replacements ( Apache-2.0 License)
* [PhysFS++](https://github.com/danielytics/physfs-hpp) - C++ wrapper for PhysicsFS (zlib License + [notes](https://github.com/Ybalrid/physfs-hpp/blob/master/LICENSE.txt))
* [PhysicsFS](http://icculus.org/physfs/) - Library for filesystem abstraction (zlib License)
* [SDL2](http://libsdl.org/) - Windowing & Input (ZLIB License)
* [SoLoud](https://github.com/jarikomppa/soloud) - Portable audio engine (zlib/libpng License)
* [spdlog](https://github.com/gabime/spdlog) - Fast logging library (MIT License)
* [stb_image](https://github.com/nothings/stb) - Image loader (Public Domain)
* [taskflow](https://github.com/taskflow/taskflow) - Parallel task programming framework (MIT-like [Taskflow Lisence](https://github.com/taskflow/taskflow/blob/master/LICENSE))
* [tinygltf](https://github.com/syoyo/tinygltf) = gLTF loader (MIT License)
* [toml11](https://github.com/ToruNiina/toml11) - TOML data file loader (MIT License)
* [tweeny](https://github.com/mobius3/tweeny) - Inbetweening library (MIT License)
* [vecmath](https://github.com/GaijinEntertainment/vecmath) - SIMD vector math HAL (BSD 3-Clause License)

Optional:

* [tup](http://gittup.org/tup/) - Tup is a file-based build system for Linux, OSX, and Windows ([Dual License](http://gittup.org/tup/license.html) GPL-v2 or Commercial) - Build from source or generate/update shell build script

# License

The Million Monkeys game engine is released under the terms of the [MIT License](https://github.com/million-monkeys/engine/blob/main/LICENSE).
